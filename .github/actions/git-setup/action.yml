name: 'Setup Git'
description: 'Sets up git for publishing to the maven git repo'
runs:
  using: 'composite'
  steps:
    - name: Install git
      shell: bash
      run: |
        sudo apt-get update
        sudo apt-get install -y git
    - name: Configure git identity
      shell: bash
      env:
        ACCESS_TOKEN: ${{ secrets.MAVEN_COMMIT_TOKEN }}
      run: |
        git config --global user.name 'Github Actions'
        git config --global user.password $ACCESS_TOKEN